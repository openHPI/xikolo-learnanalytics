{
  "settings": {
    "analysis": {
      "normalizer": {
        "keyword_lowercase": {
          "type": "custom",
          "char_filter": [],
          "filter": "lowercase"
        }
      },
      "analyzer":{
        "lowercase":{
          "tokenizer": "lowercase"
        }
      }
    }
  },
  "mappings": {
    "EXP_STATEMENT": {
      "properties": {
        "in_context": {
          "properties": {
            "admin": {
              "type": "boolean"
            },
            "affiliated": {
              "type": "boolean"
            },
            "attempt": {
              "type": "integer"
            },
            "build_number": {
              "type": "integer"
            },
            "build_version": {
              "type": "integer"
            },
            "build_version_name": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "certificate": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "client_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "commentable_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "commentable_type": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "confirmation_of_participation": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "context_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "course_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "current_orientation": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "current_quality": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "current_source": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "current_speed": {
              "type": "float"
            },
            "current_time": {
              "type": "float"
            },
            "device": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "dialog": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "exercise": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "file_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "hd_video": {
              "type": "boolean"
            },
            "implicit_tags": {
              "type": "text"
            },
            "item_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "learning_room_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "list_style": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "max_points": {
              "type": "float"
            },
            "network": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "new_current_time": {
              "type": "float"
            },
            "new_objective": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "new_quality": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "new_source": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "new_speed": {
              "type": "float"
            },
            "new_state": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "objectives_modal_context": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "old_current_time": {
              "type": "float"
            },
            "old_objective": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "old_quality": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "old_source": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "old_speed": {
              "type": "float"
            },
            "platform": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "platform_version": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "points": {
              "type": "float"
            },
            "points_achieved": {
              "type": "long"
            },
            "points_maximal": {
              "type": "long"
            },
            "points_percentage": {
              "type": "long"
            },
            "policy_accepted": {
              "type": "boolean"
            },
            "preferred_language": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "provider_name": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "provider_start_url": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "query": {
              "type": "text",
              "analyzer": "lowercase"
            },
            "quantile": {
              "type": "double"
            },
            "question_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "quiz_access_time": {
              "type": "date"
            },
            "quiz_submission_time": {
              "type": "date"
            },
            "quiz_type": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "quiz_version_at": {
              "type": "date"
            },
            "ratio": {
              "type": "float"
            },
            "received_certificate": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "received_confirmation_of_participation": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "received_record_of_achievement": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "record_of_achievement": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "runtime": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "runtime_api_level": {
              "type": "integer"
            },
            "runtime_version": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "screen_density": {
              "type": "integer"
            },
            "screen_height": {
              "type": "integer"
            },
            "screen_width": {
              "type": "integer"
            },
            "sd_video": {
              "type": "boolean"
            },
            "section_id": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "service": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "slides": {
              "type": "boolean"
            },
            "technical": {
              "type": "boolean"
            },
            "text": {
              "type": "text"
            },
            "user_agent": {
              "type": "text"
            },
            "user_app_version": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_ip": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_local_timestamp": {
              "type": "date"
            },
            "user_location_city": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_location_country_code": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_location_country_name": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_location_latitude": {
              "type": "double"
            },
            "user_location_longitude": {
              "type": "double"
            },
            "user_location_time_zone": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_os": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "user_tags": {
              "type": "text"
            },
            "variant": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            }
          }
        },
        "resource": {
          "properties": {
            "content_type": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "resource_uuid": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            },
            "text": {
              "type": "text"
            },
            "title": {
              "type": "text"
            }
          }
        },
        "timestamp": {
          "type": "date"
        },
        "user": {
          "properties": {
            "resource_uuid": {
              "type": "keyword",
              "normalizer": "keyword_lowercase"
            }
          }
        },
        "verb": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "with_result": {
          "type": "object"
        }
      }
    },
    "referral": {
      "properties": {
        "course_id": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "referrer": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "referrer_page": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "timestamp": {
          "type": "date"
        },
        "tracking_campaign": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "tracking_external_link": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "tracking_id": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "tracking_type": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        },
        "user_id": {
          "type": "keyword",
          "normalizer": "keyword_lowercase"
        }
      }
    }
  }
}
